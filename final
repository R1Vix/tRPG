<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <style>
            body
            {
                background-image: url(neturalBackground01.png);
                background-repeat: no-repeat;
            }
            .flex 
            {   
                display: flex;
                flex-wrap: wrap;
            }
            table
            {
                padding: 0px;
                margin: 0px;
                border-collapse: collapse;
            }
            td
            {
                border: 1px solid black;
                width: 100px;
                height: 100px;
                box-sizing: border-box;
            }
        </style>
        <script>
            let selectedFlag=1,characterX,characterY
            function start()
            {
                let board="<table>"
                for(let i=0;i<10;i++)
                {
                    board+="<tr>"
                    for(let j=0;j<20;j++)
                    {
                        if(j==3&&i==3) board+="<td id='cell"+j+i+"' onclick='selected("+j+","+i+")' ><img src='pikachu.png' width='100px' height='100px'></td>"
                        else board+="<td id='cell"+j+i+"' onclick='selected("+j+","+i+")' ></td>"
                    }
                    board+="</tr>"
                }
                board+="</table>"
                document.getElementById("display").innerHTML=board
            }
            function selected(x,y)
            {
                if(selectedFlag&&document.getElementById("cell"+x+y).innerHTML!="")
                {
                    characterX=x
                    characterY=y
                    selectedFlag=0
                    for(let i=0;i<10;i++)
                    {
                        for(let j=0;j<20;j++)
                        {             
                            if((Math.abs(x-j)+Math.abs(y-i))<=3)
                            {
                                document.getElementById("cell"+j+i).setAttribute("style","background-color:blue")
                            }
                        }
                    }
                    document.getElementById("cell"+x+y).setAttribute("style","background-color:darkblue")
                }
                else if(selectedFlag==0)
                {
                    if((Math.abs(characterX-x)+Math.abs(characterY-y))<=3&&(Math.abs(characterX-x)+Math.abs(characterY-y))!=0)
                    {
                        selectedFlag=1
                        move(x,y)
                    }
                }
            }
            function move(x,y)
            {
                document.getElementById("cell"+x+y).innerHTML="<img src='pikachu.png' width='100px' height='100px'>"
                document.getElementById("cell"+characterX+characterY).innerHTML=""
                for(let i=0;i<10;i++)
                {
                    for(let j=0;j<20;j++)
                    {             
                        if((Math.abs(characterX-j)+Math.abs(characterY-i))<=3)
                        {
                            document.getElementById("cell"+j+i).setAttribute("style","background-color:none")
                        }
                    }
                }
            }
            window.addEventListener("load",start,false)
        </script>
    </head>
    <body>
        <div class="flex" id="display"></div>
    </body>
</html>
